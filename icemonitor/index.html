<!DOCTYPE html>
<html>
	<head>
		<title>Icenium Monitor Charts </title>
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" charset="utf-8"></script>
		<script>
			document.addEventListener('deviceready', bodyLoad, false); 

			function showImg1() {
				var element = document.getElementById("progress1");
				element.style.display = "none";
			}

			function showImg2() {
				var element = document.getElementById("progress2");
				element.style.display = "none";
			}
            
            function showImg3() {
				var element = document.getElementById("progress3");
				element.style.display = "none";
			}
			
			function bodyLoad() {
                navigator.splashscreen.hide();
				var w = window,d = document,e = d.documentElement,g = d.getElementsByTagName('body')[0],x = w.innerWidth || e.clientWidth || g.clientWidth,y = w.innerHeight || e.clientHeight || g.clientHeight;
			
				chartW = parseInt(x - 30);
				chartH = parseInt(y / 3 - 30);
			
				var element = document.getElementById("progress1");
				element.style.display = "";
				var element2 = document.getElementById("progress2");
				element2.style.display = "";
				var element3 = document.getElementById("progress3");
				element3.style.display = "";
			
				var panel1 = document.getElementById("panel1");
				panel1.innerHTML = '<img id="img1" style="" onload="showImg1()" ' +
								   'src="https://api.cosm.com/v2/feeds/79403009/datastreams/AndroidBuild.png?' +
								   'width=' + chartW + '&height=' + chartH + 
								   '&colour=111199&duration=12hour&title=AndroidBuild%20sec' +
								   '&show_axis_labels=true&detailed_grid=true&&scale=manual&min=0&max=60&timezone=Sofia">';
                var panel3 = document.getElementById("panel3");
				panel3.innerHTML = '<img id="img1" style="" onload="showImg3()" ' +
								   'src="https://api.cosm.com/v2/feeds/79403009/datastreams/CreateSolution.png?' +
								   'width=' + chartW + '&height=' + chartH + 
								   '&colour=111199&duration=12hour&title=CreateSolution%20sec' +
								   '&show_axis_labels=true&detailed_grid=true&&scale=manual&min=0&max=30&timezone=Sofia">';
				var panel2 = document.getElementById("panel2");
				panel2.innerHTML = '<img id="img2" style="" onload="showImg2()" ' +
								   'src="https://api.cosm.com/v2/feeds/79403009/datastreams/Errors.png?' +
								   'width=' + chartW + '&height=' + chartH +
								   '&colour=111199&duration=12hour&title=Errors' +
								   '&show_axis_labels=true&detailed_grid=true&&scale=manual&min=-1&max=5&timezone=Sofia">';
				var info = document.getElementById("info");			
				info.innerHTML = ('v2.1 update - Screen size: ' + x + ' x ' + y + ';   Chart size: ' + 'width=' + chartW + '&height=' + chartH)
			}
			
            
     
		</script>
	</head>
	<body>
        <img id="progress3" style="" src="ajax-loader.gif">
		<div id="panel3">
		</div>
        
        <img id="progress1" style="" src="ajax-loader.gif">
		<div id="panel1">
		</div>
		
		<img id="progress2" style="" src="ajax-loader.gif">
		<div id="panel2">
		</div>
		
		<input type="button" value="Refresh" onclick="bodyLoad();" >
		
		<div id="info">
		</div>
		
	</body>
	
</html>

		